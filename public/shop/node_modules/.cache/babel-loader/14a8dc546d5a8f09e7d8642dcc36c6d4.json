{"remainingRequest":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/babel-loader/lib/index.js!/opt/homebrew/var/www/qiubb/public/shop/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/homebrew/var/www/qiubb/public/shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/homebrew/var/www/qiubb/public/shop/src/components/MarkdownEditor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/homebrew/var/www/qiubb/public/shop/src/components/MarkdownEditor/index.vue","mtime":1675670440395},{"path":"/opt/homebrew/var/www/qiubb/public/shop/babel.config.js","mtime":1675670440385},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/cache-loader/dist/cjs.js","mtime":1675670541337},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/babel-loader/lib/index.js","mtime":1675670543334},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/cache-loader/dist/cjs.js","mtime":1675670541337},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/vue-loader/lib/index.js","mtime":1675670542371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL29wdC9ob21lYnJldy92YXIvd3d3L3FpdWJiL3B1YmxpYy9zaG9wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKLy8KLy8KLy8KLy8KCi8vIGRlcHMgZm9yIGVkaXRvcgppbXBvcnQgJ2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuY3NzJzsgLy8gY29kZW1pcnJvcgppbXBvcnQgJ3R1aS1lZGl0b3IvZGlzdC90dWktZWRpdG9yLmNzcyc7IC8vIGVkaXRvciB1aQppbXBvcnQgJ3R1aS1lZGl0b3IvZGlzdC90dWktZWRpdG9yLWNvbnRlbnRzLmNzcyc7IC8vIGVkaXRvciBjb250ZW50CgppbXBvcnQgRWRpdG9yIGZyb20gJ3R1aS1lZGl0b3InOwppbXBvcnQgZGVmYXVsdE9wdGlvbnMgZnJvbSAnLi9kZWZhdWx0LW9wdGlvbnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hcmtkb3duRWRpdG9yJywKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gJ21hcmtkb3duLWVkaXRvci0nICsgK25ldyBEYXRlKCkgKyAoKE1hdGgucmFuZG9tKCkgKiAxMDAwKS50b0ZpeGVkKDApICsgJycpOwogICAgICB9CiAgICB9LAogICAgb3B0aW9uczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBkZWZhdWx0T3B0aW9uczsKICAgICAgfQogICAgfSwKICAgIG1vZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbWFya2Rvd24nCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiAnMzAwcHgnCiAgICB9LAogICAgbGFuZ3VhZ2U6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICdlbl9VUycgLy8gaHR0cHM6Ly9naXRodWIuY29tL25obmVudC90dWkuZWRpdG9yL3RyZWUvbWFzdGVyL3NyYy9qcy9sYW5ncwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvcjogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBlZGl0b3JPcHRpb25zOiBmdW5jdGlvbiBlZGl0b3JPcHRpb25zKCkgewogICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCB0aGlzLm9wdGlvbnMpOwogICAgICBvcHRpb25zLmluaXRpYWxFZGl0VHlwZSA9IHRoaXMubW9kZTsKICAgICAgb3B0aW9ucy5oZWlnaHQgPSB0aGlzLmhlaWdodDsKICAgICAgb3B0aW9ucy5sYW5ndWFnZSA9IHRoaXMubGFuZ3VhZ2U7CiAgICAgIHJldHVybiBvcHRpb25zOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShuZXdWYWx1ZSwgcHJlVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlICE9PSBwcmVWYWx1ZSAmJiBuZXdWYWx1ZSAhPT0gdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKSkgewogICAgICAgIHRoaXMuZWRpdG9yLnNldFZhbHVlKG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIGxhbmd1YWdlOiBmdW5jdGlvbiBsYW5ndWFnZSh2YWwpIHsKICAgICAgdGhpcy5kZXN0cm95RWRpdG9yKCk7CiAgICAgIHRoaXMuaW5pdEVkaXRvcigpOwogICAgfSwKICAgIGhlaWdodDogZnVuY3Rpb24gaGVpZ2h0KG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuZWRpdG9yLmhlaWdodChuZXdWYWx1ZSk7CiAgICB9LAogICAgbW9kZTogZnVuY3Rpb24gbW9kZShuZXdWYWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5jaGFuZ2VNb2RlKG5ld1ZhbHVlKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRFZGl0b3IoKTsKICB9LAogIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgdGhpcy5kZXN0cm95RWRpdG9yKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0RWRpdG9yOiBmdW5jdGlvbiBpbml0RWRpdG9yKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmVkaXRvciA9IG5ldyBFZGl0b3IoX29iamVjdFNwcmVhZCh7CiAgICAgICAgZWw6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpCiAgICAgIH0sIHRoaXMuZWRpdG9yT3B0aW9ucykpOwogICAgICBpZiAodGhpcy52YWx1ZSkgewogICAgICAgIHRoaXMuZWRpdG9yLnNldFZhbHVlKHRoaXMudmFsdWUpOwogICAgICB9CiAgICAgIHRoaXMuZWRpdG9yLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJGVtaXQoJ2lucHV0JywgX3RoaXMuZWRpdG9yLmdldFZhbHVlKCkpOwogICAgICB9KTsKICAgIH0sCiAgICBkZXN0cm95RWRpdG9yOiBmdW5jdGlvbiBkZXN0cm95RWRpdG9yKCkgewogICAgICBpZiAoIXRoaXMuZWRpdG9yKSByZXR1cm47CiAgICAgIHRoaXMuZWRpdG9yLm9mZignY2hhbmdlJyk7CiAgICAgIHRoaXMuZWRpdG9yLnJlbW92ZSgpOwogICAgfSwKICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkgewogICAgICB0aGlzLmVkaXRvci5zZXRWYWx1ZSh2YWx1ZSk7CiAgICB9LAogICAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5lZGl0b3IuZ2V0VmFsdWUoKTsKICAgIH0sCiAgICBzZXRIdG1sOiBmdW5jdGlvbiBzZXRIdG1sKHZhbHVlKSB7CiAgICAgIHRoaXMuZWRpdG9yLnNldEh0bWwodmFsdWUpOwogICAgfSwKICAgIGdldEh0bWw6IGZ1bmN0aW9uIGdldEh0bWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXRIdG1sKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;AAKA;AACA;AACA;AACA;;AAEA;AACA;AAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAG;MACAF;QACA;MACA;IACA;IACAG;MACAJ;MACAC;QACA;MACA;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAG;MACAF;IACA;IACAM;MACAP;MACAG;MACAF;IACA;EACA;EACAO;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACAP;MACAA;MACAA;MACA;IACA;EACA;EACAQ;IACAb;MACA;QACA;MACA;IACA;IACAQ;MACA;MACA;IACA;IACAD;MACA;IACA;IACAD;MACA;IACA;EACA;EACAQ;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;MAAA,GACA,oBACA;MACA;QACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","props","value","type","default","id","required","options","mode","height","language","data","editor","computed","editorOptions","watch","mounted","destroyed","methods","initEditor","el","destroyEditor","setValue","getValue","setHtml","getHtml"],"sourceRoot":"src/components/MarkdownEditor","sources":["index.vue"],"sourcesContent":["<template>\n  <div :id=\"id\" />\n</template>\n\n<script>\n// deps for editor\nimport 'codemirror/lib/codemirror.css' // codemirror\nimport 'tui-editor/dist/tui-editor.css' // editor ui\nimport 'tui-editor/dist/tui-editor-contents.css' // editor content\n\nimport Editor from 'tui-editor'\nimport defaultOptions from './default-options'\n\nexport default {\n  name: 'MarkdownEditor',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    id: {\n      type: String,\n      required: false,\n      default() {\n        return 'markdown-editor-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\n      }\n    },\n    options: {\n      type: Object,\n      default() {\n        return defaultOptions\n      }\n    },\n    mode: {\n      type: String,\n      default: 'markdown'\n    },\n    height: {\n      type: String,\n      required: false,\n      default: '300px'\n    },\n    language: {\n      type: String,\n      required: false,\n      default: 'en_US' // https://github.com/nhnent/tui.editor/tree/master/src/js/langs\n    }\n  },\n  data() {\n    return {\n      editor: null\n    }\n  },\n  computed: {\n    editorOptions() {\n      const options = Object.assign({}, defaultOptions, this.options)\n      options.initialEditType = this.mode\n      options.height = this.height\n      options.language = this.language\n      return options\n    }\n  },\n  watch: {\n    value(newValue, preValue) {\n      if (newValue !== preValue && newValue !== this.editor.getValue()) {\n        this.editor.setValue(newValue)\n      }\n    },\n    language(val) {\n      this.destroyEditor()\n      this.initEditor()\n    },\n    height(newValue) {\n      this.editor.height(newValue)\n    },\n    mode(newValue) {\n      this.editor.changeMode(newValue)\n    }\n  },\n  mounted() {\n    this.initEditor()\n  },\n  destroyed() {\n    this.destroyEditor()\n  },\n  methods: {\n    initEditor() {\n      this.editor = new Editor({\n        el: document.getElementById(this.id),\n        ...this.editorOptions\n      })\n      if (this.value) {\n        this.editor.setValue(this.value)\n      }\n      this.editor.on('change', () => {\n        this.$emit('input', this.editor.getValue())\n      })\n    },\n    destroyEditor() {\n      if (!this.editor) return\n      this.editor.off('change')\n      this.editor.remove()\n    },\n    setValue(value) {\n      this.editor.setValue(value)\n    },\n    getValue() {\n      return this.editor.getValue()\n    },\n    setHtml(value) {\n      this.editor.setHtml(value)\n    },\n    getHtml() {\n      return this.editor.getHtml()\n    }\n  }\n}\n</script>\n"]}]}
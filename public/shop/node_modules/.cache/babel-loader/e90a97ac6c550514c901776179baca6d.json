{"remainingRequest":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/babel-loader/lib/index.js!/opt/homebrew/var/www/qiubb/public/shop/node_modules/cache-loader/dist/cjs.js??ref--0-0!/opt/homebrew/var/www/qiubb/public/shop/node_modules/vue-loader/lib/index.js??vue-loader-options!/opt/homebrew/var/www/qiubb/public/shop/src/components/DragSelect/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/opt/homebrew/var/www/qiubb/public/shop/src/components/DragSelect/index.vue","mtime":1675670440393},{"path":"/opt/homebrew/var/www/qiubb/public/shop/babel.config.js","mtime":1675670440385},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/cache-loader/dist/cjs.js","mtime":1675670541337},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/babel-loader/lib/index.js","mtime":1675670543334},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/cache-loader/dist/cjs.js","mtime":1675670541337},{"path":"/opt/homebrew/var/www/qiubb/public/shop/node_modules/vue-loader/lib/index.js","mtime":1675670542371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvb3B0L2hvbWVicmV3L3Zhci93d3cvcWl1YmIvcHVibGljL3Nob3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTb3J0YWJsZSBmcm9tICdzb3J0YWJsZWpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEcmFnU2VsZWN0JywKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc2VsZWN0VmFsOiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy52YWx1ZSk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbCkgewogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgX3RvQ29uc3VtYWJsZUFycmF5KHZhbCkpOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZXRTb3J0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRTb3J0OiBmdW5jdGlvbiBzZXRTb3J0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZWwgPSB0aGlzLiRyZWZzLmRyYWdTZWxlY3QuJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lbC1zZWxlY3RfX3RhZ3MgPiBzcGFuJylbMF07CiAgICAgIHRoaXMuc29ydGFibGUgPSBTb3J0YWJsZS5jcmVhdGUoZWwsIHsKICAgICAgICBnaG9zdENsYXNzOiAnc29ydGFibGUtZ2hvc3QnLAogICAgICAgIC8vIENsYXNzIG5hbWUgZm9yIHRoZSBkcm9wIHBsYWNlaG9sZGVyLAogICAgICAgIHNldERhdGE6IGZ1bmN0aW9uIHNldERhdGEoZGF0YVRyYW5zZmVyKSB7CiAgICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnVGV4dCcsICcnKTsKICAgICAgICAgIC8vIHRvIGF2b2lkIEZpcmVmb3ggYnVnCiAgICAgICAgICAvLyBEZXRhaWwgc2VlIDogaHR0cHM6Ly9naXRodWIuY29tL1J1YmFYYS9Tb3J0YWJsZS9pc3N1ZXMvMTAxMgogICAgICAgIH0sCgogICAgICAgIG9uRW5kOiBmdW5jdGlvbiBvbkVuZChldnQpIHsKICAgICAgICAgIHZhciB0YXJnZXRSb3cgPSBfdGhpcy52YWx1ZS5zcGxpY2UoZXZ0Lm9sZEluZGV4LCAxKVswXTsKICAgICAgICAgIF90aGlzLnZhbHVlLnNwbGljZShldnQubmV3SW5kZXgsIDAsIHRhcmdldFJvdyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;AAOA;AAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;QACAC;QAAA;QACAC;UACAC;UACA;UACA;QACA;;QACAC;UACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","props","value","type","required","computed","selectVal","get","set","mounted","methods","setSort","ghostClass","setData","dataTransfer","onEnd"],"sourceRoot":"src/components/DragSelect","sources":["index.vue"],"sourcesContent":["<template>\n  <el-select ref=\"dragSelect\" v-model=\"selectVal\" v-bind=\"$attrs\" class=\"drag-select\" multiple v-on=\"$listeners\">\n    <slot />\n  </el-select>\n</template>\n\n<script>\nimport Sortable from 'sortablejs'\n\nexport default {\n  name: 'DragSelect',\n  props: {\n    value: {\n      type: Array,\n      required: true\n    }\n  },\n  computed: {\n    selectVal: {\n      get() {\n        return [...this.value]\n      },\n      set(val) {\n        this.$emit('input', [...val])\n      }\n    }\n  },\n  mounted() {\n    this.setSort()\n  },\n  methods: {\n    setSort() {\n      const el = this.$refs.dragSelect.$el.querySelectorAll('.el-select__tags > span')[0]\n      this.sortable = Sortable.create(el, {\n        ghostClass: 'sortable-ghost', // Class name for the drop placeholder,\n        setData: function(dataTransfer) {\n          dataTransfer.setData('Text', '')\n          // to avoid Firefox bug\n          // Detail see : https://github.com/RubaXa/Sortable/issues/1012\n        },\n        onEnd: evt => {\n          const targetRow = this.value.splice(evt.oldIndex, 1)[0]\n          this.value.splice(evt.newIndex, 0, targetRow)\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.drag-select {\n  ::v-deep {\n    .sortable-ghost {\n      opacity: .8;\n      color: #fff !important;\n      background: #42b983 !important;\n    }\n\n    .el-tag {\n      cursor: pointer;\n    }\n  }\n}\n</style>\n"]}]}